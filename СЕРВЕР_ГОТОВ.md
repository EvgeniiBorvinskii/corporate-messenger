# üéâ –í–´–î–ï–õ–ï–ù–ù–´–ô –°–ï–†–í–ï–† –ù–ê–°–¢–†–û–ï–ù –ò –ì–û–¢–û–í!

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:

### 1. Backend —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
- ‚úÖ Node.js 20.19.5 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ nvm
- ‚úÖ –í—Å–µ backend —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ `/opt/lone-star-chat/backend`
- ‚úÖ 675 npm –ø–∞–∫–µ—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É **666**
- ‚úÖ Systemd service —Å–æ–∑–¥–∞–Ω –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- ‚úÖ Uploads (–∞–≤–∞—Ç–∞—Ä—ã) —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã

### 2. Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Nginx –≤ Docker –æ–±–Ω–æ–≤–ª—ë–Ω
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–æ—Ä—Ç 666 –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- ‚úÖ Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–æ—Ä—Ç 666 –æ—Ç–∫—Ä—ã—Ç)

### 3. DNS –≥–æ—Ç–æ–≤
- ‚úÖ ypilo.com ‚Üí 5.249.160.54

## üîß –ß–¢–û –ù–£–ñ–ù–û –ó–ù–ê–¢–¨:

### HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl -k https://5.249.160.54/api/auth/login
```
‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Ç–æ–∫–µ–Ω

### HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ HTTPS:
```bash
curl http://5.249.160.54/api/auth/login
```
‚ùå 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS

## üì± –î–õ–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø:

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **HTTPS** –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–í `api_config.dart` –¥–æ–±–∞–≤–∏—Ç—å:
```dart
static const List<String> suggestedIPs = [
  '192.168.28.17:666',      // WiFi (Mac)
  'https://ypilo.com',      // –ú–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (—Å–µ—Ä–≤–µ—Ä)
  'https://5.249.160.54',   // –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
];
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTP (–±–µ–∑ SSL)
–ï—Å–ª–∏ –Ω—É–∂–µ–Ω HTTP –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ Nginx –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

## üöÄ –°–¢–ê–¢–£–° –°–ï–†–í–ò–°–û–í:

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å backend:
```bash
ssh root@5.249.160.54 "systemctl status lone-star-chat"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend:
```bash
ssh root@5.249.160.54 "systemctl restart lone-star-chat"
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏:
```bash
ssh root@5.249.160.54 "journalctl -u lone-star-chat -f"
```

## üìä DOCKER –ö–û–ù–¢–ï–ô–ù–ï–†–´:

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—â–µ–Ω—ã:
- ‚úÖ lonestar-nginx (–ø–æ—Ä—Ç 80, 443)
- ‚úÖ lonestar-llama (LLaMA AI)
- ‚úÖ lonestar_mattermost (—á–∞—Ç)
- ‚úÖ lonestar_postgres (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ lonestar-redis (–∫—ç—à)
- ‚úÖ lonestar-meilisearch (–ø–æ–∏—Å–∫)

## ‚ö†Ô∏è –í–ê–ñ–ù–û:

1. **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** - —Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è self-signed
2. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–ª—è HTTPS
3. **HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç** - –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ HTTP

## üéØ –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì:

–û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å HTTPS –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ HTTP –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞.

**–°–µ—Ä–≤–µ—Ä –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ
