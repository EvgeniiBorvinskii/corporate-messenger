# üîç DEBUG: Invalid JSON Error

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Invalid JSON" –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

## ‚úÖ –ß—Ç–æ –º—ã —É–∂–µ –∑–Ω–∞–µ–º:
1. Backend **—Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ** - curl –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π JSON
2. Backend –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤–∏–¥–Ω–æ –≤ –ª–æ–≥–∞—Ö)
3. –í –∫–æ–¥–µ api_service.dart —É–∂–µ –µ—Å—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéØ –ö–∞–∫ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Xcode —Å –ª–æ–≥–∞–º–∏ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Xcode:**
   ```bash
   cd "/Users/svetanaborvinskaia/Desktop/Lone Star Chat"
   ./OPEN_XCODE.sh
   ```

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone** —á–µ—Ä–µ–∑ USB

3. **–í—ã–±–µ—Ä–∏—Ç–µ iPhone** –≤ —Å–ø–∏—Å–∫–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ Debug —Ä–µ–∂–∏–º–µ:**
   - –ù–∞–∂–º–∏—Ç–µ ‚ñ∂Ô∏è (Build and Run)
   - Xcode –æ—Ç–∫—Ä–æ–µ—Ç –∫–æ–Ω—Å–æ–ª—å —Å –ª–æ–≥–∞–º–∏

5. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

6. **–°–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å Xcode** - —Ç–∞–º –±—É–¥–µ—Ç:
   ```
   üîç Raw response.data type: ...
   üîç Raw response.data: ...
   ```

7. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏** –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ!

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π IP –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ iPhone
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (‚öôÔ∏è)
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫–æ–π IP –∞–¥—Ä–µ—Å **—Å–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —ç—Ç–æ—Ç IP –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ IP:**
- `192.168.28.17` - –µ—Å–ª–∏ iPhone –∏ Mac –≤ –æ–¥–Ω–æ–π WiFi —Å–µ—Ç–∏
- `ypilo.com` - –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã DNS –∏ –ø–æ—Ä—Ç —Ñ–æ—Ä–≤–∞—Ä–¥–∏–Ω–≥ (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –ù–ï–¢)

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ IP:**
- `172.20.10.5` - —ç—Ç–æ —Å—Ç–∞—Ä—ã–π IP, –µ–≥–æ –±–æ–ª—å—à–µ –Ω–µ—Ç
- –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ IP –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å–µ—Ç–∏

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ö–∞–∫ –ø–æ–Ω—è—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:**

1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—Ö–æ–¥–∞:
   - ‚úÖ –ö—Ä—É–≥–ª—ã–π (–±–µ–∑ –∫–≤–∞–¥—Ä–∞—Ç–∞) = –ù–û–í–ê–Ø –≤–µ—Ä—Å–∏—è
   - ‚ùå –ö–≤–∞–¥—Ä–∞—Ç –ø—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ = –°–¢–ê–†–ê–Ø –≤–µ—Ä—Å–∏—è

2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (‚öôÔ∏è) –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ø–∏—Å–æ–∫ IP:
   - ‚úÖ –ü–µ—Ä–≤—ã–π `ypilo.com` = –ù–û–í–ê–Ø –≤–µ—Ä—Å–∏—è
   - ‚ùå –ü–µ—Ä–≤—ã–π `192.168.28.17` = –°–¢–ê–†–ê–Ø –≤–µ—Ä—Å–∏—è

–ï—Å–ª–∏ —É –≤–∞—Å **–°–¢–ê–†–ê–Ø –≤–µ—Ä—Å–∏—è** - –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ Xcode!

## üîß –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç backend

–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ backend —Ç–æ—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –¢–µ—Å—Ç 1: localhost
curl -X POST http://localhost:666/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin","password":"admin"}'

# –¢–µ—Å—Ç 2: –ª–æ–∫–∞–ª—å–Ω—ã–π IP
curl -X POST http://192.168.28.17:666/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin","password":"admin"}'
```

–û–±–∞ –¥–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "token": "session_...",
  "user": {
    "id": "1",
    "email": "admin@lonestar.local",
    ...
  }
}
```

## üö® –°–∞–º–∞—è –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ iPhone - —ç—Ç–æ –°–¢–ê–†–ê–Ø –≤–µ—Ä—Å–∏—è!**

–í—ã **–ù–ï —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏** –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Xcode –ø–æ—Å–ª–µ –≤—Å–µ—Ö –º–æ–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**–†–ï–®–ï–ù–ò–ï:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Xcode (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç 1 –≤—ã—à–µ) ‚òùÔ∏è

---

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫:

- [ ] Backend –∑–∞–ø—É—â–µ–Ω (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å: `ps aux | grep node`)
- [ ] Backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 666 (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å: `lsof -i :666`)
- [ ] Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å: `curl localhost:666/api/auth/login`)
- [ ] iPhone –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ Mac
- [ ] Xcode –æ—Ç–∫—Ä—ã—Ç
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ Xcode (‚ñ∂Ô∏è)
- [ ] –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ Xcode –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–∏–ø –æ—à–∏–±–∫–∏

---

## üí° –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Xcode** –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ** —Å—Ç—Ä–æ–∫–∏ —Å `üîç Raw response.data` –∏ `‚ùå Failed to decode`
3. **–ü–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ** —ç—Ç–∏ –ª–æ–≥–∏
4. –Ø —Ç–æ—á–Ω–æ —Å–∫–∞–∂—É, –≤ —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞!

–ë–µ–∑ –ª–æ–≥–æ–≤ –∏–∑ Xcode —è –º–æ–≥—É —Ç–æ–ª—å–∫–æ –≥–∞–¥–∞—Ç—å. –° –ª–æ–≥–∞–º–∏ - —Å—Ä–∞–∑—É —É–≤–∏–∂—É –ø—Ä–æ–±–ª–µ–º—É! üéØ
