# üîß –°–†–û–ß–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

## –î–∞—Ç–∞: 14 –æ–∫—Ç—è–±—Ä—è 2025

---

## üö® –ü—Ä–æ–±–ª–µ–º–∞ 1: Employees –ø—Ä–æ–ø–∞–ª–∞

### –°—Ç–∞—Ç—É—Å: ‚úÖ –ù–ï –ü–†–û–ü–ê–õ–ê!

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞:**
- ‚úÖ Employees –µ—Å—Ç—å –≤ BottomNavigationBar (–∏–Ω–¥–µ–∫—Å 4)
- ‚úÖ EmployeesScreen –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –≠–∫—Ä–∞–Ω –≤ —Å–ø–∏—Å–∫–µ _screens

**–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
- Flutter –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∫–µ—à–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd mobile
flutter clean
flutter pub get
flutter run -d Curtis
```

---

## üö® –ü—Ä–æ–±–ª–µ–º–∞ 2: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### –°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ Backend –∫–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (saveMessages() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è)
- ‚úÖ Backend –∑–∞–ø—É—â–µ–Ω (port 3000)
- ‚úÖ –§–∞–π–ª messages.json –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é
- ‚ùå –§–∞–π–ª –ù–ï —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. **–¢–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç**
   - authenticate middleware —Ç—Ä–µ–±—É–µ—Ç `temp_token_*`
   - Frontend –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç

2. **–°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - API endpoint: POST /api/channels/:channelId/messages
   - –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–∫–µ–Ω –≤ header: `Authorization: Bearer temp_token_*`

3. **Flutter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–µ—à**
   - –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## ‚úÖ –ß—Ç–æ —è —Å–¥–µ–ª–∞–ª:

### 1. –ü—Ä–æ–≤–µ—Ä–∏–ª home_screen.dart
```dart
List<Widget> get _screens => [
  const ChatsTabScreen(),      // 0
  const TeamChatsScreen(),     // 1
  const VoiceRoomsScreen(),    // 2
  const ScheduleTabScreen(),   // 3
  const EmployeesScreen(),     // 4 ‚úÖ –ï–°–¢–¨!
  const ProfileScreen(),       // 5
];
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏–ª BottomNavigationBar
```dart
BottomNavigationBarItem(
  icon: Icon(Icons.people_outline),
  activeIcon: Icon(Icons.people),
  label: 'Employees', // ‚úÖ –ï–°–¢–¨!
),
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏–ª backend persistence
```javascript
// POST /api/channels/:channelId/messages
messages[channelId].push(newMessage);
saveMessages(); // ‚úÖ –í–´–ó–´–í–ê–ï–¢–°–Ø!
```

### 4. –ó–∞–ø—É—Å—Ç–∏–ª backend
```
üíæ No messages file found, starting fresh
üíæ No DM messages file found, starting fresh
üöÄ Lone Star Chat API running on port 3000
```

### 5. –ó–∞–ø—É—Å—Ç–∏–ª Flutter
```bash
flutter run -d Curtis
# –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è —Å–µ–π—á–∞—Å...
```

---

## üîç –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å (–∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è):

### –¢–µ—Å—Ç 1: Employees –≤–∏–¥–Ω–∞? (10 —Å–µ–∫)
1. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ TabBar –≤–Ω–∏–∑—É
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 6 –∏–∫–æ–Ω–æ–∫:
   - Home
   - Chats  
   - Voice
   - Schedule
   - **Employees** ‚Üê –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞!
   - Profile

**–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω–∞:**
```bash
cd mobile
flutter clean
flutter run -d Curtis
```

### –¢–µ—Å—Ç 2: –°–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è? (1 –º–∏–Ω—É—Ç–∞)
1. –í–æ–π–¥–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (admin/admin123)
2. –û—Ç–∫—Ä–æ–π –∫–∞–Ω–∞–ª News (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π)
3. –û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ: "Test persistence"
4. –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ backend –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
   ```
   üíæ Messages saved to disk
   ```
5. –ü—Ä–æ–≤–µ—Ä—å —Ñ–∞–π–ª:
   ```bash
   cat backend/database/messages.json
   ```
6. –î–æ–ª–∂–µ–Ω —É–≤–∏–¥–µ—Ç—å JSON —Å —Ç–≤–æ–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

**–ï—Å–ª–∏ —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π –∏–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–ª—Å—è:**
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω –≤ Network DevTools

---

## üêõ Debug –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ (–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏):
1. –û—Ç–∫—Ä–æ–π DevTools –≤ Xcode
2. –ù–∞–π–¥–∏ Network requests
3. –ù–∞–π–¥–∏ POST /api/channels/*/messages
4. –ü—Ä–æ–≤–µ—Ä—å Header: `Authorization: Bearer temp_token_*`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ backend –ª–æ–≥–æ–≤:
```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω backend —Å–º–æ—Ç—Ä–∏:
üíæ Messages saved to disk  ‚Üê –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–ª—è—Ç—å—Å—è –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ messages.json:
```bash
cd backend/database
cat messages.json

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å JSON –≤–∏–¥–∞:
{
  "news": [
    {
      "id": "msg_1697123456789",
      "content": "Test",
      ...
    }
  ]
}
```

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

### –ï—Å–ª–∏ Employees –Ω–µ –≤–∏–¥–Ω–∞:
```bash
cd "/Users/svetanaborvinskaia/Desktop/Lone Star Chat/mobile"
flutter clean
flutter run -d Curtis
# –ü–æ–¥–æ–∂–¥–∏ ~2-3 –º–∏–Ω—É—Ç—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
```

### –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è:

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: Backend —Ä–∞–±–æ—Ç–∞–µ—Ç?**
```bash
curl http://localhost:3000/api/channels
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –¢–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω?**
- –í –∫–æ–¥–µ Flutter –Ω–∞–π–¥–∏ –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–∫–µ–Ω
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–æ—Ä–º–∞—Ç: `temp_token_${timestamp}`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞–π —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∞:
echo '{"news":[]}' > backend/database/messages.json

# –û—Ç–ø—Ä–∞–≤—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
# –ü—Ä–æ–≤–µ—Ä—å –æ–±–Ω–æ–≤–∏–ª—Å—è –ª–∏ —Ñ–∞–π–ª:
cat backend/database/messages.json
```

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:

```
Backend: ‚úÖ Running (port 3000)
Frontend: ‚è≥ Compiling (Flutter build)
Employees: ‚úÖ Code correct (should be visible)
Persistence: ‚ö†Ô∏è Need to test (code correct, but file not created yet)
```

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚è≥ –î–æ–∂–¥–∏—Å—å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Flutter (~2-3 –º–∏–Ω—É—Ç—ã)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –≤–∏–¥–Ω–∞ –ª–∏ Employees –≤ TabBar
3. ‚úÖ –û—Ç–ø—Ä–∞–≤—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª—é–±–æ–π –∫–∞–Ω–∞–ª
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —Å–æ–∑–¥–∞–ª—Å—è –ª–∏ messages.json
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –ø–æ—è–≤–∏–ª—Å—è –ª–∏ –ª–æ–≥ "üíæ Messages saved to disk"

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- ‚úÖ Employees –≤–∏–¥–Ω–∞ –≤ TabBar (5-—è –∏–∫–æ–Ω–∫–∞)
- ‚úÖ –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ª–æ–≥ "üíæ Messages saved to disk"
- ‚úÖ –§–∞–π–ª backend/database/messages.json —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ backend —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞

---

**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞—é –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Flutter –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞  
**ETA:** ~2-3 –º–∏–Ω—É—Ç—ã
