# üéØ –ü–†–û–°–¢–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø - –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –ü—Ä–æ–±–ª–µ–º–∞
`flutter run` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å pod install.

## –†–µ—à–µ–Ω–∏–µ: –û—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ Xcode

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode

```bash
open "/Users/svetanaborvinskaia/Desktop/Lone Star Chat/mobile/ios/Runner.xcworkspace"
```

**–í–ê–ñ–ù–û:** –û—Ç–∫—Ä–æ–π—Ç–µ –∏–º–µ–Ω–Ω–æ `Runner.xcworkspace`, –∞ –ù–ï `Runner.xcodeproj`!

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone
- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone –∫ Mac —á–µ—Ä–µ–∑ –∫–∞–±–µ–ª—å
- –†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ iPhone
- –ï—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è "Trust This Computer?" - –Ω–∞–∂–º–∏—Ç–µ "Trust"

### –®–∞–≥ 3: –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –í –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ Xcode –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à iPhone (Curtis)
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: **Runner > Curtis (iPhone)**

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **‚ñ∂ Play** (–∏–ª–∏ Cmd+R)
- Xcode –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä—ë—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –®–∞–≥ 5: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –ª–æ–≥–æ–≤
- –ú–µ–Ω—é **View ‚Üí Debug Area ‚Üí Activate Console** (–∏–ª–∏ Cmd+Shift+Y)
- –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è –∫–æ–Ω—Å–æ–ª—å —Å –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –®–∞–≥ 6: –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É
1. –í–æ–π–¥–∏—Ç–µ: **admin/admin**
2. **Profile ‚Üí View as User (Test Roles)**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **Simon Clarke**
4. –ù–∞–∂–º–∏—Ç–µ **"View as User"** –≤ –¥–∏–∞–ª–æ–≥–µ

### –®–∞–≥ 7: –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üëÜ User card tapped: Simon Clarke (ID: 1002)
üë§ _impersonateUser called for: Simon Clarke (ID: 1002)
üì¶ Providers obtained: impersonation=true, auth=true
‚úÖ User confirmed, starting impersonation...
üìû Calling impersonationProvider.startImpersonation(1002, Simon Clarke)
üé≠ Starting impersonation for user: 1002 (Simon Clarke)
üì§ POST Request: http://5.249.160.54:666/api/admin/impersonate/1002
‚úÖ Response status: 200
üé≠ RESPONSE received: {...}
‚úÖ Impersonation started: Simon Clarke
üìä startImpersonation returned: true
‚úÖ Impersonation successful! Navigating to home...
üé® ImpersonationBanner build: isImpersonating=true
üé® Banner showing: user=Simon Clarke, real=Master Administrator
```

### –®–∞–≥ 8: –§–∏–ª—å—Ç—Ä –ª–æ–≥–æ–≤
–ï—Å–ª–∏ –ª–æ–≥–æ–≤ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ, –≤ –∫–æ–Ω—Å–æ–ª–∏ (–≤–Ω–∏–∑—É –≤ Xcode):
- –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ —Å–ø—Ä–∞–≤–∞
- –í–≤–µ–¥–∏—Ç–µ: `üëÜ` –∏–ª–∏ `üé≠` –∏–ª–∏ `Simon`
- –≠—Ç–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ª–æ–≥–∏

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ï—Å–ª–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ù–ï–¢ –ª–æ–≥–æ–≤ –≤–æ–æ–±—â–µ:
**–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—Å—ë –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å iPhone (–¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí Remove App)
2. –í Xcode –Ω–∞–∂–º–∏—Ç–µ **Product ‚Üí Clean Build Folder** (Cmd+Shift+K)
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ (Cmd+R)

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "üëÜ User card tapped" –Ω–æ –Ω–∏—á–µ–≥–æ –¥–∞–ª—å—à–µ:
**–ü—Ä–∏—á–∏–Ω–∞:** `_impersonateUser` –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –æ—à–∏–±–∫—É –ø–æ—Å–ª–µ "User card tapped"

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "üìä startImpersonation returned: false":
**–ü—Ä–∏—á–∏–Ω–∞:** API –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –≤ "üé≠ RESPONSE received:"

### –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –≤—Å–µ –ª–æ–≥–∏ –¥–æ "‚úÖ Impersonation successful!" –Ω–æ –±–∞–Ω–Ω–µ—Ä–∞ –Ω–µ—Ç:
**–ü—Ä–∏—á–∏–Ω–∞:** ImpersonationBanner –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –µ—Å—Ç—å –ª–∏ –ª–æ–≥–∏ "üé® ImpersonationBanner build"

## –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏
–ü–æ—Å–ª–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã:
1. –í –∫–æ–Ω—Å–æ–ª–∏ Xcode –≤—ã–¥–µ–ª–∏—Ç–µ –í–°–ï –ª–æ–≥–∏ (Cmd+A)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ (Cmd+C)
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ó–∞–ø—É—Å–∫ –±–µ–∑ –∫–∞–±–µ–ª—è (WiFi)

–ï—Å–ª–∏ iPhone —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è wireless debugging:
1. –í Xcode: **Window ‚Üí Devices and Simulators**
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à iPhone
3. –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É **"Connect via network"**
4. –ó–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ
5. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–µ–∑ –∫–∞–±–µ–ª—è!

---

**–ù–ê–ß–ù–ò–¢–ï –° –û–¢–ö–†–´–¢–ò–Ø –í XCODE** - —ç—Ç–æ —Å–∞–º—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏!

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å** –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ –ª–æ–≥–∏!
