# ะัะบะฐั ะดะพ ะฒะตััะธะธ ั Mercedes Carousel

**ะะฐัะฐ**: 18 ะฝะพัะฑัั 2025  
**ะกัะฐััั**: โ ะะฐะฒะตััะตะฝะพ

## ๐ฏ ะงัะพ ะฑัะปะพ ัะดะตะปะฐะฝะพ

ะัะฟะพะปะฝะตะฝ ะพัะบะฐั ะฟัะธะปะพะถะตะฝะธั ะดะพ ะผะพะผะตะฝัะฐ, ะบะพะณะดะฐ ะฑัะปะฐ ะดะพะฑะฐะฒะปะตะฝะฐ ัะพะปัะบะพ ะบะฐัััะตะปั Mercedes ั ัะตะฐะปัะฝัะผะธ ะบะฐััะธะฝะบะฐะผะธ ั ัะฐะนัะฐ.

## โ ะงัะพ ะะกะขะะะะะะ

### 1. Mercedes Carousel ะฒะพ ะฒะบะปะฐะดะบะต Home (ะฟะตัะฒะฐั ะฒะบะปะฐะดะบะฐ - Chats)
- โ ะะฐัััะตะปั ั ัะตะฐะปัะฝัะผะธ ะธะทะพะฑัะฐะถะตะฝะธัะผะธ ั ัะฐะนัะฐ Mercedes-Benz Lone Star Calgary
- โ 2 ะฟัะตะดะปะพะถะตะฝะธั:
  - **2025 CLA 250 ะทะฐ $279 bi-weekly**  
    ะะทะพะฑัะฐะถะตะฝะธะต: `https://di-uploads-pod24.dealerinspire.com/lonestarmercedesbenz/uploads/2025/07/279-CLA_VRP-Web.png`
  - **Loyalty Lease & Finance Benefits**  
    ะะทะพะฑัะฐะถะตะฝะธะต: `https://di-uploads-pod24.dealerinspire.com/lonestarmercedesbenz/uploads/2025/10/VRP-Web-Loyalty-2.png`
- โ PageView ั viewportFraction: 0.85
- โ ะะฝะดะธะบะฐัะพัั ัััะฐะฝะธั
- โ ะะฝะพะฟะบะฐ "View Offer" ะพัะบััะฒะฐะตั ัะฐะนั Mercedes
- โ ะะฐัะฟะพะปะพะถะตะฝะฐ ะผะตะถะดั ะบะฐะฝะฐะปะฐะผะธ ะธ ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ

### 2. ะะฐะทะพะฒะฐั ััััะบัััะฐ ะฟัะธะปะพะถะตะฝะธั
- โ AI Chat ะฟะปะฐะฒะฐััะฐั ะบะฝะพะฟะบะฐ (ะฒัะตะณะดะฐ ะฒะธะดะฝะฐ)
- โ ะะฐะทะดะตะป "ะะพะปัะทะพะฒะฐัะตะปะธ" (ะฒัะตะณะดะฐ ะฒะธะดะตะฝ)
- โ 6 ะฒะบะปะฐะดะพะบ ะฝะฐะฒะธะณะฐัะธะธ

## โ ะงัะพ ะฃะะะะะ (ะพัะบะฐัะตะฝะพ)

### 1. ะกะธััะตะผะฐ Rules ะดะปั ะดะธะฝะฐะผะธัะตัะบะพะณะพ ะพัะพะฑัะฐะถะตะฝะธั
- โ ะฃะฑัะฐะฝะฐ ะทะฐะณััะทะบะฐ rules ะธะท API (`/api/rules`)
- โ ะฃะฑัะฐะฝะพ ััะปะพะฒะธะต `if (_appRules['show_ai_chat'] == true)` ะดะปั AI Chat ะบะฝะพะฟะบะธ
- โ ะฃะฑัะฐะฝะพ ััะปะพะฒะธะต `if (_appRules['show_users_section'] == true)` ะดะปั ัะฐะทะดะตะปะฐ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- โ ะฃะฑัะฐะฝั ะฟะตัะตะผะตะฝะฝัะต `_appRules`, `_rulesLoaded`
- โ ะฃะฑัะฐะฝะฐ ััะฝะบัะธั `_loadAppRules()`

### 2. ะะฐัะตะผ ััะพ ะฑัะปะพ ะฝัะถะฝะพ?
ะกะธััะตะผะฐ rules ะฟะพะทะฒะพะปัะปะฐ ะฐะดะผะธะฝั ะธะท ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ ะฒะบะปััะฐัั/ะฒัะบะปััะฐัั:
- AI Chat ะบะฝะพะฟะบั
- ะะฐะทะดะตะป ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะะพ ััะฐ ัะธััะตะผะฐ ัะฐะฑะพัะฐะปะฐ ะฝะตะฟัะฐะฒะธะปัะฝะพ, ะฟะพััะพะผั ะผั ะฒะตัะฝัะปะธัั ะบ ะฟัะพััะพะน ะฒะตััะธะธ

## ๐ฑ ะะตะทัะปััะฐั ัะฑะพัะบะธ

```bash
โ Built build/ios/iphoneos/Runner.app (78.2MB)
ะัะตะผั ัะฑะพัะบะธ: 59.5s
```

## ๐ ะะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั

### 1. `mobile/lib/screens/home/home_screen.dart`
**ะงัะพ ัะดะฐะปะตะฝะพ**:
- ะะตัะตะผะตะฝะฝัะต `_appRules` ะธ `_rulesLoaded`
- ะคัะฝะบัะธั `_loadAppRules()`
- ะฃัะปะพะฒะธะต `if (_appRules['show_ai_chat'] == true)` ะดะปั AI Chat ะบะฝะพะฟะบะธ

**ะะตะทัะปััะฐั**: AI Chat ะบะฝะพะฟะบะฐ ัะตะฟะตัั ะฒัะตะณะดะฐ ะฒะธะดะฝะฐ

### 2. `mobile/lib/screens/home/tabs/chats_tab_screen.dart`
**ะงัะพ ัะดะฐะปะตะฝะพ**:
- ะะตัะตะผะตะฝะฝะฐั `_appRules`
- ะคัะฝะบัะธั `_loadAppRules()`
- ะฃัะปะพะฒะธะต `if (_appRules['show_users_section'] == true)` ะดะปั ัะฐะทะดะตะปะฐ ะฟะพะปัะทะพะฒะฐัะตะปะตะน

**ะงัะพ ะพััะฐะฒะปะตะฝะพ**:
- โ Mercedes ะบะฐัััะตะปั ั ัะตะฐะปัะฝัะผะธ ะธะทะพะฑัะฐะถะตะฝะธัะผะธ
- โ PageController ะดะปั ะบะฐัััะตะปะธ
- โ `_buildMercedesCarousel()` ะผะตัะพะด
- โ `_buildMercedesCard()` ะผะตัะพะด

**ะะตะทัะปััะฐั**: 
- ะะฐัััะตะปั Mercedes ัะฐะฑะพัะฐะตั
- ะะฐะทะดะตะป ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะฒัะตะณะดะฐ ะฒะธะดะตะฝ

### 3. `mobile/lib/models/mercedes_vehicle.dart`
**ะกัะฐััั**: ะะต ะธะทะผะตะฝัะปัั, ะพััะฐะฒะปะตะฝ ะบะฐะบ ะตััั
- โ 2 ัะตะฐะปัะฝัั ะฟัะตะดะปะพะถะตะฝะธั ั ัะฐะนัะฐ
- โ ะะตะฐะปัะฝัะต URL ะธะทะพะฑัะฐะถะตะฝะธะน

## ๐จ ะขะตะบััะฐั ััััะบัััะฐ ะฟะตัะฒะพะน ะฒะบะปะฐะดะบะธ (Home/Chats)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ   ะะะะะะซ (Channels)             โ
โ   - News                        โ
โ   - ะััะณะธะต ะฟัะฑะปะธัะฝัะต ะบะฐะฝะฐะปั     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ   MERCEDES CAROUSEL             โ
โ   โโโโโ โโโโโ                   โ
โ   โ 1 โ โ 2 โ                   โ
โ   โโโโโ โโโโโ                   โ
โ   โช โช (ะธะฝะดะธะบะฐัะพัั)              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ   ะะะะฌะะะะะขะะะ (Users)          โ
โ   - ะกะฟะธัะพะบ ะฒัะตั ะฟะพะปัะทะพะฒะฐัะตะปะตะน   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ง Backend ััะฐััั

Backend ะพััะฐะปัั ะฑะตะท ะธะทะผะตะฝะตะฝะธะน:
- API `/api/rules` ะฒัะต ะตัะต ัััะตััะฒัะตั
- `app_rules.json` ะฒัะต ะตัะต ัััะตััะฒัะตั
- ะะพ ะผะพะฑะธะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะฑะพะปััะต ะฝะต ะธัะฟะพะปัะทัะตั ััะธ API

## โจ ะงัะพ ัะฐะฑะพัะฐะตั

1. โ ะะฐัััะตะปั Mercedes ั ัะตะฐะปัะฝัะผะธ ะบะฐััะธะฝะบะฐะผะธ
2. โ ะะปะธะบ ะฝะฐ "View Offer" ะพัะบััะฒะฐะตั ัะฐะนั Mercedes
3. โ AI Chat ะบะฝะพะฟะบะฐ (ะฒัะตะณะดะฐ ะฒะธะดะฝะฐ)
4. โ ะะฐะทะดะตะป ะฟะพะปัะทะพะฒะฐัะตะปะตะน (ะฒัะตะณะดะฐ ะฒะธะดะตะฝ)
5. โ ะัะต 6 ะฒะบะปะฐะดะพะบ ะฝะฐะฒะธะณะฐัะธะธ
6. โ ะัะธะปะพะถะตะฝะธะต ัะพะฑะธัะฐะตััั ะฑะตะท ะพัะธะฑะพะบ

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

ะัะปะธ ะฟะพััะตะฑัะตััั ัะฝะพะฒะฐ ะดะพะฑะฐะฒะธัั ัะธััะตะผั rules:
1. ะัะถะฝะพ ะฑัะดะตั ะฟัะฐะฒะธะปัะฝะพ ัะตะฐะปะธะทะพะฒะฐัั ัะธะฝััะพะฝะธะทะฐัะธั ัะพััะพัะฝะธั
2. ะะพะฑะฐะฒะธัั Provider ะดะปั rules
3. ะัะฟะพะปัะทะพะฒะฐัั FutureBuilder ะธะปะธ StreamBuilder ะดะปั ะฐัะธะฝััะพะฝะฝะพะน ะทะฐะณััะทะบะธ
4. ะะพะฑะฐะฒะธัั ะพะฑัะฐะฑะพัะบั ะพัะธะฑะพะบ

ะะพ ะฟะพะบะฐ ะฟัะธะปะพะถะตะฝะธะต ัะฐะฑะพัะฐะตั ะฒ ะฟัะพััะพะผ ัะตะถะธะผะต:
- **AI Chat** - ะฒัะตะณะดะฐ ะดะพัััะฟะตะฝ
- **ะะพะปัะทะพะฒะฐัะตะปะธ** - ะฒัะตะณะดะฐ ะฒะธะดะฝั
- **Mercedes ะบะฐัััะตะปั** - ะฒัะตะณะดะฐ ะฟะพะบะฐะทัะฒะฐะตััั

---

**ะะตััะธั ะฟัะธะปะพะถะตะฝะธั**: Alpha 0.26 (Rollback)  
**ะะฐะทะผะตั**: 78.2 MB  
**ะะพัะพะฒะพ ะบ ัััะฐะฝะพะฒะบะต ะฝะฐ iPhone**: โ
