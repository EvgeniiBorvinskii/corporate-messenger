# üé≠ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Admin Impersonation (–ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

## –ß—Ç–æ —ç—Ç–æ?

**Admin Impersonation** - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –º–∞—Å—Ç–µ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç **–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –∏–º–µ–Ω–∏ –ª—é–±–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞** –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–Ω–∞—Ç—å –∏—Ö –ø–∞—Ä–æ–ª—å.

## –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∫ –≤–∏–¥—è—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã–µ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã (Sales, Service, Parts)
- ‚úÖ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º –æ—Ç –∏–º–µ–Ω–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û–±—É—á–µ–Ω–∏–µ - –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –í–æ–π—Ç–∏ –ø–æ–¥ Master
```
Email: admin
Password: admin
```

### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Profile** (–ø—Ä–∞–≤–∞—è –Ω–∏–∂–Ω—è—è –∫–Ω–æ–ø–∫–∞)
2. –ù–∞–π–¥–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"View as User (Test Roles)"** —Å –æ—Ä–∞–Ω–∂–µ–≤–æ–π –∏–∫–æ–Ω–∫–æ–π
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë

### –®–∞–≥ 3: –í—ã–±—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 67 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
- üìä –ú–æ–∂–µ—Ç–µ –∏—Å–∫–∞—Ç—å –ø–æ –∏–º–µ–Ω–∏, email –∏–ª–∏ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É
- üìã –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
- üè¢ –ü–æ–∫–∞–∑–∞–Ω –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –∏ —Ä–æ–ª–∏ –∫–∞–∂–¥–æ–≥–æ

**–ü—Ä–∏–º–µ—Ä:**
```
Simon Clarke
simon_clarke@lonestar.local
Sales
[sales]
```

### –®–∞–≥ 4: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Simon Clarke)
2. –ü–æ—è–≤–∏—Ç—Å—è –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
3. –ù–∞–∂–º–∏—Ç–µ **"View as User"**

### –®–∞–≥ 5: –í—ã –≤–æ—à–ª–∏!
–ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
- ‚úÖ –ü–æ—è–≤–∏—Ç—Å—è **–∫—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä** —Å–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –í—ã —É–≤–∏–¥–∏—Ç–µ **HomeScreen**
- ‚úÖ –í–∞—à avatar –∏ –∏–º—è –∏–∑–º–µ–Ω—è—Ç—Å—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –í—ã –≤–∏–¥–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **—Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ —ç—Ç–æ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫**

### –ö—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üõ°Ô∏è Admin View Mode                     ‚îÇ
‚îÇ Viewing as: Simon Clarke     [Exit View]‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –®–∞–≥ 6: –í—ã—Ö–æ–¥ –∏–∑ —Ä–µ–∂–∏–º–∞
–ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Exit View"** –≤ –∫—Ä–∞—Å–Ω–æ–º –±–∞–Ω–Ω–µ—Ä–µ
2. –í—ã –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –∫ —Å–≤–æ–µ–º—É Master –∞–∫–∫–∞—É–Ω—Ç—É
3. –ö—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –∏—Å—á–µ–∑–Ω–µ—Ç

## –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞?

### ‚úÖ –ú–æ–∂–Ω–æ:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–∏–¥–µ—Ç—å –∏—Ö —á–∞—Ç—ã, —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Ö —Ä–æ–ª–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI –∏ UX –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –≠—Ç–æ **—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä** (view-only mode)
- –í—ã –Ω–µ –º–µ–Ω—è–µ—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–µ—Å—Å–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–∑–Ω–∞–µ—Ç —á—Ç–æ –≤—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∏ –æ—Ç –µ–≥–æ –∏–º–µ–Ω–∏

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø Sales –º–µ–Ω–µ–¥–∂–µ—Ä–∞
```
1. View as User ‚Üí Simon Clarke (General Sales Manager)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ —á–∞—Ç—ã –æ–Ω –≤–∏–¥–∏—Ç
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–µ—Ç –ª–∏ –æ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞–Ω–∞–ª—ã
4. Exit View
```

### –ü—Ä–∏–º–µ—Ä 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Service –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç
```
1. View as User ‚Üí Gary Beaton (Service Manager)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ dashboard
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º Service
4. Exit View
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Parts –æ—Ç–¥–µ–ª
```
1. View as User ‚Üí Thomas McNeil (Parts Manager)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å inventory
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å order management
4. Exit View
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- üîí –¢–æ–ª—å–∫–æ **Master –∞–∫–∫–∞—É–Ω—Ç** –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é
- üîí –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- üîí –ö—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–Ω - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å —á—Ç–æ –≤—ã –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- üîí –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–∂–Ω–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∞ "View as User" –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –ø–æ–¥ Master (admin/admin)

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to impersonate user"
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω (5.249.160.54:666)
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ

### –ü—Ä–æ–±–ª–µ–º–∞: –ö—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –ù–∞–∂–º–∏—Ç–µ "Exit View" –≤ –±–∞–Ω–Ω–µ—Ä–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –º–æ–≥—É –≤—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞
**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞–∂–º–∏—Ç–µ "Exit View"
2. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ - –≤—ã–π–¥–∏—Ç–µ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Logout)
3. –í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ –ø–æ–¥ Master

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Backend endpoints:**
  - `POST /api/admin/impersonate/:userId` - –Ω–∞—á–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä
  - `POST /api/admin/stop-impersonation` - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä

- **–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** 67 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
  - Management: 0 (–∫—Ä–æ–º–µ Master)
  - Sales: 25
  - Service: 28
  - Parts: 8
  - Admin: 6

- **–°–µ—Å—Å–∏—è:** –•—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –≤–∞—à–µ–º—É —Ç–æ–∫–µ–Ω—É

---
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** November 24, 2025
**–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è:** Master –∞–∫–∫–∞—É–Ω—Ç —Ç–æ–ª—å–∫–æ
