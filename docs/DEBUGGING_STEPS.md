# üîç –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ—Ç–ª–∞–¥–∫–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö

## –ß—Ç–æ –º—ã –∑–Ω–∞–µ–º:

‚úÖ **Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ:**
- 7 –∫–∞–Ω–∞–ª–æ–≤ (–≤–∫–ª—é—á–∞—è News, Test Channel)
- 6 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Å–µ API endpoints –æ—Ç–≤–µ—á–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

‚úÖ **–ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω:**
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç public –∏ News)
- Endpoints –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (/api/users, /api/channels)
- NetworkImage URLs –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –ø–æ–ª–Ω—ã–µ –∞–¥—Ä–µ—Å–∞
- Avatar upload —Ä–∞–±–æ—Ç–∞–µ—Ç

‚ùì **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

## –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Xcode (–¢–ï–ö–£–©–ò–ô –≠–¢–ê–ü)

```bash
cd "/Users/svetanaborvinskaia/Desktop/Lone Star Chat/mobile"
open ios/Runner.xcworkspace
```

1. –í Xcode –≤—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ "Curtis" (–≤–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞)
2. –ù–∞–∂–º–∏—Ç–µ ‚ñ∂Ô∏è (Play) –∏–ª–∏ Cmd+R
3. –î–æ–∂–¥–∏—Ç–µ—Å—å "Build Succeeded" –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ iPhone

## –®–∞–≥ 2: –í—Ö–æ–¥ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

**–í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- Email: `admin`
- Password: `admin`

**–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª VS Code** –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏. –ò—â–∏—Ç–µ —ç—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:

### ‚úÖ –•–û–†–û–®–ò–ï –ª–æ–≥–∏ (–µ—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):

```
flutter: üì§ Request: POST http://5.249.160.54:3002/api/auth/login
flutter: üì• Response: 200 http://5.249.160.54:3002/api/auth/login
flutter: ‚úÖ Token saved after login
flutter: üì§ Request: GET http://5.249.160.54:3002/api/channels
flutter: üì• Response: 200 http://5.249.160.54:3002/api/channels
flutter: üîç DEBUG: Received 7 channels from API
flutter:   ‚úÖ SHOWING NEWS CHANNEL!
flutter:   ‚úÖ Public channel - showing: Test Channel
flutter: ‚úÖ Final filtered channels count: 2 (–∏–ª–∏ –±–æ–ª—å—à–µ)
```

### ‚ùå –ü–õ–û–•–ò–ï –ª–æ–≥–∏ (–ø—Ä–æ–±–ª–µ–º—ã):

**–ü—Ä–æ–±–ª–µ–º–∞ 1: Token –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
```
flutter: üì• Response: 200 http://5.249.160.54:3002/api/auth/login
(–Ω–µ—Ç —Å—Ç—Ä–æ–∫–∏ "‚úÖ Token saved after login")
```
‚Üí **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–±–ª–µ–º–∞ –≤ AuthProvider.login()

**–ü—Ä–æ–±–ª–µ–º–∞ 2: 401 Unauthorized**
```
flutter: üì• Response: 401 http://5.249.160.54:3002/api/channels
```
‚Üí **–†–µ—à–µ–Ω–∏–µ:** Token –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞ 3: 0 –∫–∞–Ω–∞–ª–æ–≤ –ø–æ–ª—É—á–µ–Ω–æ**
```
flutter: üîç DEBUG: Received 0 channels from API
```
‚Üí **–†–µ—à–µ–Ω–∏–µ:** Backend –Ω–µ –≤–µ—Ä–Ω—É–ª –¥–∞–Ω–Ω—ã–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä)

**–ü—Ä–æ–±–ª–µ–º–∞ 4: –ö–∞–Ω–∞–ª—ã –ø–æ–ª—É—á–µ–Ω—ã, –Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã**
```
flutter: üîç DEBUG: Received 7 channels from API
flutter: ‚úÖ Final filtered channels count: 0
```
‚Üí **–†–µ—à–µ–Ω–∏–µ:** –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–∞–Ω–∞–ª—ã

## –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

### –ê. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–Ω–∞–ª–∞ News

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **–ì–ª–∞–≤–Ω–∞—è**
2. **–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:** "News" + "Test Channel"
3. **–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: –µ—Å—Ç—å –ª–∏ —Å—Ç—Ä–æ–∫–∞ `‚úÖ SHOWING NEWS CHANNEL!`
   - –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∏ –Ω–µ—Ç ‚Üí —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ë. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **+** (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
2. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: **"–¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª"**
3. –¢–∏–ø: **–ü—É–±–ª–∏—á–Ω—ã–π**
4. –ù–∞–∂–º–∏—Ç–µ **–°–æ–∑–¥–∞—Ç—å**
5. **–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
flutter: üì§ Creating channel: –¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª (type: public)
flutter: ‚úÖ Channel created response: {id: ..., name: –¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª}
flutter: üîÑ Reloading channels...
flutter: üîç DEBUG: Received 8 channels from API
flutter:   ‚úÖ Public channel - showing: –¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª
```
6. **–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:** –ù–æ–≤—ã–π –∫–∞–Ω–∞–ª –ø–æ—è–≤–∏–ª—Å—è –≤ —Å–ø–∏—Å–∫–µ —Å—Ä–∞–∑—É

### –í. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏**
2. **–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:** 6 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
flutter: üìã Loading employees...
flutter: üì• Employees response: {users: [{...}, {...}, ...]}
flutter: ‚úÖ Loaded 6 employees
```

### –ì. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å** ‚Üí **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
2. **–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:** 6 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
flutter: üîß [Admin] Loading users...
flutter: üîß [Admin] Users response: {users: [...]}
flutter: ‚úÖ [Admin] Loaded 6 users
```

## –®–∞–≥ 4: –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ù–ï –ø–æ—è–≤–ª—è—é—Ç—Å—è

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –£–¥–∞–ª–∏—Ç—å –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å iPhone –≤—Ä—É—á–Ω—É—é
# –ó–∞—Ç–µ–º:
cd "/Users/svetanaborvinskaia/Desktop/Lone Star Chat/mobile"
flutter clean
flutter pub get
open ios/Runner.xcworkspace
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ Xcode —Å–Ω–æ–≤–∞
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å backend

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω:
ssh root@5.249.160.54 "ps aux | grep 'server-chat' | grep -v grep"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
curl -s http://5.249.160.54:3002/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin","password":"admin"}' | python3 -m json.tool

# –ï—Å–ª–∏ –ø–æ–ª—É—á–∏–ª–∏ token, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–Ω–∞–ª—ã:
TOKEN="..." # –≤—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π token
curl -s http://5.249.160.54:3002/api/channels \
  -H "Authorization: Bearer $TOKEN" | python3 -m json.tool
```

### –í–∞—Ä–∏–∞–Ω—Ç –í: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend

```bash
ssh root@5.249.160.54
cd /root/lonestar-chat/backend
pm2 restart all
# –ò–ª–∏ –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ —á–µ—Ä–µ–∑ pm2:
pkill -f "server-chat"
node server-chat.js &
```

## –®–∞–≥ 5: –°–±–æ—Ä –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ, —Å–æ–±–µ—Ä–∏—Ç–µ —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

### 1. –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–µ—Ä–≤—ã–µ 200 —Å—Ç—Ä–æ–∫ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞)
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ VS Code –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### 2. –û—Ç–≤–µ—Ç backend –Ω–∞ login
```bash
curl -v http://5.249.160.54:3002/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin","password":"admin"}'
```

### 3. –û—Ç–≤–µ—Ç backend –Ω–∞ channels
```bash
TOKEN="..." # –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
curl -v http://5.249.160.54:3002/api/channels \
  -H "Authorization: Bearer $TOKEN"
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ SharedPreferences
–í –ª–æ–≥–∞—Ö –∏—â–∏—Ç–µ:
```
flutter: üîë Token loaded from storage: eyJ...
```

–ï—Å–ª–∏ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –Ω–µ—Ç –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ ‚Üí token –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ (Checklist)

- [ ] Xcode —É—Å—Ç–∞–Ω–æ–≤–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ iPhone
- [ ] –í–æ—à–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (admin/admin)
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ "‚úÖ Token saved after login"
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ "üîç DEBUG: Received X channels from API" (X > 0)
- [ ] –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ "‚úÖ SHOWING NEWS CHANNEL!"
- [ ] –ù–∞ –≤–∫–ª–∞–¥–∫–µ "–ì–ª–∞–≤–Ω–∞—è" –≤–∏–¥–Ω–æ –∫–∞–Ω–∞–ª News
- [ ] –°–æ–∑–¥–∞–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª –∏ –æ–Ω –ø–æ—è–≤–∏–ª—Å—è
- [ ] –ù–∞ –≤–∫–ª–∞–¥–∫–µ "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏" –≤–∏–¥–Ω–æ 6 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –í –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª–∏ –≤–∏–¥–Ω–æ 6 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

**–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:**
```bash
cd "/Users/svetanaborvinskaia/Desktop/Lone Star Chat/mobile"
flutter run -d 00008150-001229522280401C
```

**–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞:**
```bash
cd "/Users/svetanaborvinskaia/Desktop/Lone Star Chat/mobile"
flutter clean
rm -rf ios/Pods ios/Podfile.lock
cd ios && pod install && cd ..
flutter pub get
open ios/Runner.xcworkspace
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ backend —Å—Ç–∞—Ç—É—Å–∞:**
```bash
ssh root@5.249.160.54 "ps aux | grep server-chat | grep -v grep && curl -s localhost:3002/api/version/check | python3 -m json.tool"
```

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è):

**–î–∞—Ç–∞:** 14 –æ–∫—Ç—è–±—Ä—è 2024
**–°—Ç–∞—Ç—É—Å backend:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (7 –∫–∞–Ω–∞–ª–æ–≤, 6 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
**–°—Ç–∞—Ç—É—Å –∫–æ–¥–∞:** ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã
**–°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** ‚è≥ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Xcode
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

**–ü–æ–º–Ω–∏—Ç–µ:** –°–∞–º–æ–µ –≥–ª–∞–≤–Ω–æ–µ - —ç—Ç–æ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –û–Ω–∏ –ø–æ–∫–∞–∂—É—Ç –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞!
